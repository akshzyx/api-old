// https://pris.ly/d/prisma-schema

datasource db {
  provider = "postgresql"
  url      = env("POSTGRES_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id             String       @id
  displayName    String
  disabled       Boolean
  settings       UserSettings @relation(fields: [userSettingsId], references: [id])
  userSettingsId Int
  apiClient      ApiClient    @relation(fields: [apiClientId], references: [id])
  apiClientId    String
  isPlus         Boolean      @default(false)
}

model UserSettings {
  id                    Int      @id @default(autoincrement())
  refreshToken          String
  accessToken           String
  accessTokenExpiration DateTime
  sharesStats           Boolean  @default(false)
  User                  User[]
}

model ApiClient {
  id     String @id
  secret String
  count  Int    @default(0)
  users  User[]
}
